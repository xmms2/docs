<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>XMMS2: Transactions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XMMS2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Transactions<div class="ingroups"><a class="el" href="group__S4.html">S4</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions dealing with transactions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab2900173e2b0ef255f2860f6e1de1c16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#gab2900173e2b0ef255f2860f6e1de1c16">_transaction_writing</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:gab2900173e2b0ef255f2860f6e1de1c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga250e97560668132159eaf4a8d111a7e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga250e97560668132159eaf4a8d111a7e7">_transaction_get_waiting_for</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:ga250e97560668132159eaf4a8d111a7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga806543ba4da72d8b78883cfde8487c80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga806543ba4da72d8b78883cfde8487c80">_transaction_set_waiting_for</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans, <a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a> *waiting_for)</td></tr>
<tr class="separator:ga806543ba4da72d8b78883cfde8487c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga099833bf8808cc5f9c02aaeeb983dd78"><td class="memItemLeft" align="right" valign="top">GList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga099833bf8808cc5f9c02aaeeb983dd78">_transaction_get_locks</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:ga099833bf8808cc5f9c02aaeeb983dd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8058cbf4b4da5d82f691060f17b206e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga8058cbf4b4da5d82f691060f17b206e2">_transaction_add_lock</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans, <a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a> *lock)</td></tr>
<tr class="separator:ga8058cbf4b4da5d82f691060f17b206e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95522e8b0b599a2cd7af9875773dbf93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga95522e8b0b599a2cd7af9875773dbf93">_transaction_set_deadlocked</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:ga95522e8b0b599a2cd7af9875773dbf93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7357f977e6bcbbb368844b32a0424072"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga7357f977e6bcbbb368844b32a0424072">_transaction_dummy_alloc</a> (<a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a> *<a class="el" href="t__transactions_8c.html#a1e4278f3eb80128c18f0ab33e6586614">s4</a>)</td></tr>
<tr class="separator:ga7357f977e6bcbbb368844b32a0424072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b680aeeb20f2a5a21c44f4402fda3d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga7b680aeeb20f2a5a21c44f4402fda3d7">_transaction_dummy_free</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:ga7b680aeeb20f2a5a21c44f4402fda3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bca3b6fdb1b07d5c2ccf0ac05359cca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga9bca3b6fdb1b07d5c2ccf0ac05359cca">_transaction_get_flags</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:ga9bca3b6fdb1b07d5c2ccf0ac05359cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3edbc595af5fbb5a5fc5cca8263be31f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga3edbc595af5fbb5a5fc5cca8263be31f">s4_begin</a> (<a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a> *<a class="el" href="t__transactions_8c.html#a1e4278f3eb80128c18f0ab33e6586614">s4</a>, int flags)</td></tr>
<tr class="memdesc:ga3edbc595af5fbb5a5fc5cca8263be31f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a new transaction.  <a href="#ga3edbc595af5fbb5a5fc5cca8263be31f">More...</a><br/></td></tr>
<tr class="separator:ga3edbc595af5fbb5a5fc5cca8263be31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee73be098dbe017cd41cb72093d5dbdd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#gaee73be098dbe017cd41cb72093d5dbdd">s4_commit</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="memdesc:gaee73be098dbe017cd41cb72093d5dbdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a transaction.  <a href="#gaee73be098dbe017cd41cb72093d5dbdd">More...</a><br/></td></tr>
<tr class="separator:gaee73be098dbe017cd41cb72093d5dbdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacb22a63f289e47a93e06f155edd51b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#gaacb22a63f289e47a93e06f155edd51b8">s4_abort</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="memdesc:gaacb22a63f289e47a93e06f155edd51b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts a transaction.  <a href="#gaacb22a63f289e47a93e06f155edd51b8">More...</a><br/></td></tr>
<tr class="separator:gaacb22a63f289e47a93e06f155edd51b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac15c7d37d7cb09779c8b8a01d00c73ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#gac15c7d37d7cb09779c8b8a01d00c73ca">_transaction_get_db</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans)</td></tr>
<tr class="separator:gac15c7d37d7cb09779c8b8a01d00c73ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fd2e128a2afb4194b96f95aa65d5a14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga0fd2e128a2afb4194b96f95aa65d5a14">s4_add</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans, const char *key_a, const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *val_a, const char *key_b, const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *val_b, const char *src)</td></tr>
<tr class="memdesc:ga0fd2e128a2afb4194b96f95aa65d5a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a relationship to the database.  <a href="#ga0fd2e128a2afb4194b96f95aa65d5a14">More...</a><br/></td></tr>
<tr class="separator:ga0fd2e128a2afb4194b96f95aa65d5a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65e1919dec63569b93acda4d1ccccf6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga65e1919dec63569b93acda4d1ccccf6e">s4_del</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans, const char *key_a, const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *val_a, const char *key_b, const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *val_b, const char *src)</td></tr>
<tr class="memdesc:ga65e1919dec63569b93acda4d1ccccf6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a relationship from the database.  <a href="#ga65e1919dec63569b93acda4d1ccccf6e">More...</a><br/></td></tr>
<tr class="separator:ga65e1919dec63569b93acda4d1ccccf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4aa08a5a39fd5db7c7762403bed33112"><td class="memItemLeft" align="right" valign="top"><a class="el" href="s4_8h.html#af1349dba12b0e06cdae3c69b15e3a944">s4_resultset_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Transactions.html#ga4aa08a5a39fd5db7c7762403bed33112">s4_query</a> (<a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *trans, <a class="el" href="s4_8h.html#ab36826aedf5afc09ded2ad2e2524444a">s4_fetchspec_t</a> *spec, <a class="el" href="s4_8h.html#ac074fe768bb1c7229660110a5ea096f2">s4_condition_t</a> *cond)</td></tr>
<tr class="memdesc:ga4aa08a5a39fd5db7c7762403bed33112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries an S4 database.  <a href="#ga4aa08a5a39fd5db7c7762403bed33112">More...</a><br/></td></tr>
<tr class="separator:ga4aa08a5a39fd5db7c7762403bed33112"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions dealing with transactions. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga8058cbf4b4da5d82f691060f17b206e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _transaction_add_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00066">66</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="lock_8c_source.html#l00147">_lock_exclusive()</a>, and <a class="el" href="lock_8c_source.html#l00190">_lock_shared()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7357f977e6bcbbb368844b32a0424072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a>* _transaction_dummy_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a> *&#160;</td>
          <td class="paramname"><em>s4</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00077">77</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b680aeeb20f2a5a21c44f4402fda3d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _transaction_dummy_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00085">85</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

</div>
</div>
<a class="anchor" id="gac15c7d37d7cb09779c8b8a01d00c73ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a>* _transaction_get_db </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00174">174</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="oplist_8c_source.html#l00032">_oplist_get_db()</a>, <a class="el" href="relation_8c_source.html#l00204">_s4_add()</a>, <a class="el" href="relation_8c_source.html#l00303">_s4_del()</a>, <a class="el" href="relation_8c_source.html#l00520">_s4_query()</a>, <a class="el" href="transaction_8c_source.html#l00195">s4_add()</a>, <a class="el" href="transaction_8c_source.html#l00126">s4_commit()</a>, and <a class="el" href="transaction_8c_source.html#l00246">s4_del()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9bca3b6fdb1b07d5c2ccf0ac05359cca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _transaction_get_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00092">92</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="lock_8c_source.html#l00190">_lock_shared()</a>.</p>

</div>
</div>
<a class="anchor" id="ga099833bf8808cc5f9c02aaeeb983dd78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GList* _transaction_get_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00061">61</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="lock_8c_source.html#l00258">_lock_unlock_all()</a>.</p>

</div>
</div>
<a class="anchor" id="ga250e97560668132159eaf4a8d111a7e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a>* _transaction_get_waiting_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00051">51</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga95522e8b0b599a2cd7af9875773dbf93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _transaction_set_deadlocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00071">71</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="relation_8c_source.html#l00204">_s4_add()</a>, <a class="el" href="relation_8c_source.html#l00303">_s4_del()</a>, and <a class="el" href="relation_8c_source.html#l00520">_s4_query()</a>.</p>

</div>
</div>
<a class="anchor" id="ga806543ba4da72d8b78883cfde8487c80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _transaction_set_waiting_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s4__priv_8h.html#a8d90bd54557282874d46fba60ecd9c08">s4_lock_t</a> *&#160;</td>
          <td class="paramname"><em>waiting_for</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00056">56</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="lock_8c_source.html#l00147">_lock_exclusive()</a>, and <a class="el" href="lock_8c_source.html#l00190">_lock_shared()</a>.</p>

</div>
</div>
<a class="anchor" id="gab2900173e2b0ef255f2860f6e1de1c16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _transaction_writing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00046">46</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaacb22a63f289e47a93e06f155edd51b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s4_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts a transaction. </p>
<p>The database will behave like the transaction never happened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans</td><td>The transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on error, non-zero on success. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00165">165</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__transactions_8c_source.html#l00099">CASE()</a>, and <a class="el" href="medialib__session_8c_source.html#l00067">xmms_medialib_session_abort()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0fd2e128a2afb4194b96f95aa65d5a14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s4_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *&#160;</td>
          <td class="paramname"><em>val_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *&#160;</td>
          <td class="paramname"><em>val_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a relationship to the database. </p>
<p>It takes both a database handle and a transaction handle, but only one if used. If the transaction handle is NULL it will create a local transaction, otherwise it will use the transaction passed, and thus s4 is not needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s4</td><td>The database to add to. </td></tr>
    <tr><td class="paramname">trans</td><td>The transaction to use. </td></tr>
    <tr><td class="paramname">key_a</td><td>Key A. </td></tr>
    <tr><td class="paramname">val_a</td><td>Value A. </td></tr>
    <tr><td class="paramname">key_b</td><td>Key B. </td></tr>
    <tr><td class="paramname">val_b</td><td>Value B. </td></tr>
    <tr><td class="paramname">src</td><td>Source. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on error, non-zero on success. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00195">195</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__transactions_8c_source.html#l00099">CASE()</a>, <a class="el" href="s4__bench_8c_source.html#l00046">main()</a>, and <a class="el" href="medialib__session_8c_source.html#l00136">xmms_medialib_session_property_set()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3edbc595af5fbb5a5fc5cca8263be31f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a>* s4_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a859cf1b9c679a933291f30c3d7c48400">s4_t</a> *&#160;</td>
          <td class="paramname"><em>s4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a new transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s4</td><td>The database to run the transaction on. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags specifying what kind of transaction this should be. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new transaction that can be used when calling s4_add, s4_del and s4_query. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00105">105</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__s4_8c_source.html#l00240">CASE()</a>, and <a class="el" href="s4__bench_8c_source.html#l00046">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gaee73be098dbe017cd41cb72093d5dbdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s4_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a transaction. </p>
<p>On success the operations in the transactions will be applied in one atomic step, on error none of the operations in the transaction will be applied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans</td><td>The transaction to commit. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on error (and sets s4_errno), non-zero on success. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00126">126</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__s4_8c_source.html#l00240">CASE()</a>, <a class="el" href="s4__bench_8c_source.html#l00046">main()</a>, and <a class="el" href="medialib__session_8c_source.html#l00074">xmms_medialib_session_commit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga65e1919dec63569b93acda4d1ccccf6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int s4_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *&#160;</td>
          <td class="paramname"><em>val_a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="s4_8h.html#ab8087dcf4e19378a23a72f9a7f91aa1a">s4_val_t</a> *&#160;</td>
          <td class="paramname"><em>val_b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a relationship from the database. </p>
<p>It takes both a database handle and a transaction handle, but only one if used. If the transaction handle is NULL it will create a local transaction, otherwise it will use the transaction passed, and thus s4 is not needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s4</td><td>The database to delete from. </td></tr>
    <tr><td class="paramname">trans</td><td>The transaction to use. </td></tr>
    <tr><td class="paramname">key_a</td><td>Key A. </td></tr>
    <tr><td class="paramname">val_a</td><td>Value A. </td></tr>
    <tr><td class="paramname">key_b</td><td>Key B. </td></tr>
    <tr><td class="paramname">val_b</td><td>Value B. </td></tr>
    <tr><td class="paramname">src</td><td>Source. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on error, non-zero on success. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00246">246</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__transactions_8c_source.html#l00086">CASE()</a>, <a class="el" href="s4__bench_8c_source.html#l00046">main()</a>, <a class="el" href="medialib__session_8c_source.html#l00136">xmms_medialib_session_property_set()</a>, and <a class="el" href="medialib__session_8c_source.html#l00195">xmms_medialib_session_property_unset()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4aa08a5a39fd5db7c7762403bed33112"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="s4_8h.html#af1349dba12b0e06cdae3c69b15e3a944">s4_resultset_t</a>* s4_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="s4_8h.html#a20d593e2d87b358245a92ef8dbf15246">s4_transaction_t</a> *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s4_8h.html#ab36826aedf5afc09ded2ad2e2524444a">s4_fetchspec_t</a> *&#160;</td>
          <td class="paramname"><em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="s4_8h.html#ac074fe768bb1c7229660110a5ea096f2">s4_condition_t</a> *&#160;</td>
          <td class="paramname"><em>cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries an S4 database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s4</td><td>The database to query. If s4 is NULL trans must be non-null. </td></tr>
    <tr><td class="paramname">trans</td><td>The transaction to use. If trans is NULL s4 must be non-null. </td></tr>
    <tr><td class="paramname">spec</td><td>The fetchspecification to use when querying. </td></tr>
    <tr><td class="paramname">cond</td><td>The condition to use when querying. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A resultset containing the fetched data. </dd></dl>

<p>Definition at line <a class="el" href="transaction_8c_source.html#l00290">290</a> of file <a class="el" href="transaction_8c_source.html">transaction.c</a>.</p>

<p>Referenced by <a class="el" href="t__s4_8c_source.html#l00240">CASE()</a>, <a class="el" href="medialib__session_8c_source.html#l00136">xmms_medialib_session_property_set()</a>, and <a class="el" href="medialib__session_8c_source.html#l00128">xmms_medialib_session_query()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 21 2016 21:29:18 for XMMS2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
