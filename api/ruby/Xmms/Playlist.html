<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Xmms::Playlist - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-add_collection">#add_collection</a>
    
    <li ><a href="#method-i-add_entry">#add_entry</a>
    
    <li ><a href="#method-i-clear">#clear</a>
    
    <li ><a href="#method-i-current_pos">#current_pos</a>
    
    <li ><a href="#method-i-entries">#entries</a>
    
    <li ><a href="#method-i-insert_entry">#insert_entry</a>
    
    <li ><a href="#method-i-load">#load</a>
    
    <li ><a href="#method-i-move_entry">#move_entry</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-radd">#radd</a>
    
    <li ><a href="#method-i-remove">#remove</a>
    
    <li ><a href="#method-i-remove_entry">#remove_entry</a>
    
    <li ><a href="#method-i-rinsert">#rinsert</a>
    
    <li ><a href="#method-i-shuffle">#shuffle</a>
    
    <li ><a href="#method-i-sort">#sort</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Xmms::Playlist">
  <h1 id="class-Xmms::Playlist" class="class">
    class Xmms::Playlist
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="ACTIVE_NAME">ACTIVE_NAME
        
        <dd>
        
      
        <dt id="ADD">ADD
        
        <dd>
        
      
        <dt id="CLEAR">CLEAR
        
        <dd>
        
      
        <dt id="INSERT">INSERT
        
        <dd>
        
      
        <dt id="MOVE">MOVE
        
        <dd>
        
      
        <dt id="REMOVE">REMOVE
        
        <dd>
        
      
        <dt id="SHUFFLE">SHUFFLE
        
        <dd>
        
      
        <dt id="SORT">SORT
        
        <dd>
        
      
        <dt id="UPDATE">UPDATE
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            pl = Xmms::Playlist.new(xc, [name])
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Initializes a new <a href="Playlist.html">Xmms::Playlist</a> using the
playlist named <em>name</em> and the <a href="Client.html">Xmms::Client</a>
instance <em>xc</em>. <a
href="Client.html#method-i-playlist">Xmms::Client#playlist</a> is a useful
shortcut. <em>name</em> is is the name of the playlist and the active
playlist will be used if it is not specified. Raises <a
href="Playlist/PlaylistError.html">PlaylistError</a> if the playlist name
is invalid.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre>static VALUE
c_init (int argc, VALUE *argv, VALUE self)
{
        RbPlaylist *pl = NULL;
        VALUE name, xmms = Qnil;

        Data_Get_Struct (self, RbPlaylist, pl);

        rb_scan_args (argc, argv, &quot;11&quot;, &amp;xmms, &amp;name);

        /* FIXME: Check type! */
        pl-&gt;xmms = xmms;

        if (NIL_P (name))
                pl-&gt;name_value = rb_str_new2 (XMMS_ACTIVE_PLAYLIST);
        else
                pl-&gt;name_value = rb_str_dup (name);

        OBJ_FREEZE (pl-&gt;name_value);

        pl-&gt;name = StringValuePtr (pl-&gt;name_value);

        return self;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-add_collection" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            add_collection(coll [, order]) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Adds the collection <em>coll</em> to the playlist.</p>
          
          

          
          <div class="method-source-code" id="add_collection-source">
            <pre>static VALUE
c_add_collection (int argc, VALUE *argv, VALUE self)
{
        PLAYLIST_METHOD_HANDLER_HEADER

        VALUE rbcoll, order = Qnil;
        xmmsv_t *corder = NULL;
        xmmsc_coll_t *coll;

        rb_scan_args (argc, argv, &quot;11&quot;, &amp;rbcoll, &amp;order);

        coll = FROM_XMMS_CLIENT_COLLECTION (rbcoll);

        if (!NIL_P (order))
                corder = parse_string_array2 (order);

        res = xmmsc_playlist_add_collection (xmms-&gt;real, pl-&gt;name,
                                             coll, corder);

        if (corder)
                xmmsv_unref (corder);

        PLAYLIST_METHOD_HANDLER_FOOTER
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-add_entry" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            add_entry(arg) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Adds an entry to the playlist. <em>arg</em> can be either a URL or an id.</p>
          
          

          
          <div class="method-source-code" id="add_entry-source">
            <pre>static VALUE
c_add_entry (VALUE self, VALUE arg)
{
        int32_t id;

        PLAYLIST_METHOD_HANDLER_HEADER

        if (!NIL_P (rb_check_string_type (arg)))
                res = xmmsc_playlist_add_url (xmms-&gt;real, pl-&gt;name,
                                              StringValuePtr (arg));
        else {
                id = check_int32 (arg);
                res = xmmsc_playlist_add_id (xmms-&gt;real, pl-&gt;name, id);
        }

        PLAYLIST_METHOD_HANDLER_FOOTER
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-clear" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            clear &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Clears the playlist.</p>
          
          

          
          <div class="method-source-code" id="clear-source">
            <pre>static VALUE
c_clear (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (clear)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-current_pos" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            current_pos &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieves the current position of the playlist. May raise an <a
href="Result/ValueError.html">Xmms::Result::ValueError</a> exception if the
current position is undefined.</p>
          
          

          
          <div class="method-source-code" id="current_pos-source">
            <pre>static VALUE
c_current_pos (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (current_pos)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-entries" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            entries &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Retrieves an array containing ids for each position of the playlist.</p>
          
          

          
          <div class="method-source-code" id="entries-source">
            <pre>static VALUE
c_list_entries (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (list_entries)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-insert_entry" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            insert_entry(pos, arg) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Inserts an entry to the current playlist at position <em>pos</em> in the
playlist. <em>arg</em> can be either a URL or an id.</p>
          
          

          
          <div class="method-source-code" id="insert_entry-source">
            <pre>static VALUE
c_insert_entry (VALUE self, VALUE pos, VALUE arg)
{
        int32_t id;
        int32_t ipos;

        PLAYLIST_METHOD_HANDLER_HEADER

        ipos = check_int32 (pos);

        if (!NIL_P (rb_check_string_type (arg)))
                res = xmmsc_playlist_insert_url (xmms-&gt;real, pl-&gt;name,
                                                 ipos, StringValuePtr (arg));
        else {
                id = check_int32 (arg);
                res = xmmsc_playlist_insert_id (xmms-&gt;real, pl-&gt;name,
                                                ipos, id);
        }

        PLAYLIST_METHOD_HANDLER_FOOTER
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-load" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            load &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Loads the playlist as the current active playlist.</p>
          
          

          
          <div class="method-source-code" id="load-source">
            <pre>static VALUE
c_load (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (load);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-move_entry" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            playlist_move_entry(current_pos, new_pos) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Moves the entry at <em>current_pos</em> to <em>new_pos</em> in the
playlist.</p>
          
          

          
          <div class="method-source-code" id="move_entry-source">
            <pre>static VALUE
c_move_entry (VALUE self, VALUE cur_pos, VALUE new_pos)
{
        PLAYLIST_METHOD_ADD_HANDLER_INT_INT (move_entry, cur_pos, new_pos)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            name &rarr; string
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns the name of the playlist in the medialib as a String.</p>
          
          

          
          <div class="method-source-code" id="name-source">
            <pre>static VALUE
c_name (VALUE self)
{
        RbPlaylist *pl = NULL;

        Data_Get_Struct (self, RbPlaylist, pl);

        return pl-&gt;name_value;
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-radd" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            radd(path) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Recursively imports all media files under <em>path</em> to the playlist.</p>
          
          

          
          <div class="method-source-code" id="radd-source">
            <pre>static VALUE
c_radd (VALUE self, VALUE path)
{
        PLAYLIST_METHOD_ADD_HANDLER_STR (radd, path);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-remove" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            remove &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Removes the playlist from the medialib.</p>
          
          

          
          <div class="method-source-code" id="remove-source">
            <pre>static VALUE
c_remove (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (remove);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-remove_entry" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            remove_entry(pos) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Removes the entry at <em>pos</em> from the playlist.</p>
          
          

          
          <div class="method-source-code" id="remove_entry-source">
            <pre>static VALUE
c_remove_entry (VALUE self, VALUE pos)
{
        PLAYLIST_METHOD_ADD_HANDLER_INT (remove_entry, pos)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-rinsert" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            rinsert(pos, path) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Recursively imports all media files under <em>path</em> at position
<em>pos</em> in the playlist.</p>
          
          

          
          <div class="method-source-code" id="rinsert-source">
            <pre>static VALUE
c_rinsert (VALUE self, VALUE pos, VALUE path)
{
        PLAYLIST_METHOD_ADD_HANDLER_INT_STR (rinsert, pos, path);
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-shuffle" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            shuffle &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Shuffles the playlist.</p>
          
          

          
          <div class="method-source-code" id="shuffle-source">
            <pre>static VALUE
c_shuffle (VALUE self)
{
        PLAYLIST_METHOD_ADD_HANDLER (shuffle)
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-sort" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            sort(properties) &rarr; result
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Sorts the playlist on <em>properties</em>, which is an array of medialib
properties such as [“title”, “artist”].</p>
          
          

          
          <div class="method-source-code" id="sort-source">
            <pre>static VALUE
c_sort (VALUE self, VALUE props)
{
        xmmsv_t *cprops;
        PLAYLIST_METHOD_HANDLER_HEADER

        cprops = parse_string_array2 (props);
        res = xmmsc_playlist_sort (xmms-&gt;real, pl-&gt;name, cprops);
        xmmsv_unref (cprops);

        PLAYLIST_METHOD_HANDLER_FOOTER
}</pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.3.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

